<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ext="http://amasoon.ch/jsf/taglib">

    <h:head>
        <title>Result List</title>
    </h:head>

    <h:body>
        <ui:composition>
            <h:form id="cartGridForm">
                <h:dataTable class="table table-striped" id="data" value="#{orderBean.books}" var="book" rendered="#{not empty orderBean.books}">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="#{translations.title}"/>
                        </f:facet>
                        <h:outputText value="#{book.title}"/>
                        <f:facet name="footer">
                            <h:outputText value="#{translations.cartGridTotal}"  style="font-weight:bold"/>
                        </f:facet>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="#{translations.price}"/>
                        </f:facet>
                        <h:outputText value="#{orderBean.getCartItemPrice(book)}">
                            <f:convertNumber type="currency" currencySymbol="CHF" locale="de_CH" />
                        </h:outputText>
                        <f:facet name="footer">
                            <h:outputText value="#{orderBean.totalPrice}" style="font-weight:bold">
                                <f:convertNumber type="currency" currencySymbol="CHF" locale="de_CH" />
                            </h:outputText>
                        </f:facet>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="#{translations.cartGridQuantity}"/>
                        </f:facet>
                        <ext:selectNumber id="quantity" min="1" max="50" value="#{orderBean.getQuantity(book)}" />
                    </h:column>
                    <h:column>
                        <h:commandLink class="btn btn-info btn-small" action="#{orderBean.removeFromCart(book)}" value="#{translations.cartGridRemove}" immediate="true" />
                    </h:column>

                </h:dataTable>
                <h:outputText value="#{translations.cartGridEmptyCart}" rendered="#{empty orderBean.books}" />
                <h:messages globalOnly="true" layout="table" infoClass="info" errorClass="error"/>
            </h:form>
        </ui:composition>
    </h:body>

</html>
